# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –¥–µ–ø–ª–æ–µ–º –≤ Railway

## –û—à–∏–±–∫–∞ 502 Bad Gateway –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API

### –ü—Ä–∏—á–∏–Ω–∞
Nginx –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ backend –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –†–µ—à–µ–Ω–∏–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Frontend —Å–µ—Ä–≤–∏—Å–µ:**
   ```
   VITE_API_URL=https://your-backend-url.railway.app
   ```
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ø–æ–ª–Ω—ã–π URL** backend —Å–µ—Ä–≤–∏—Å–∞
   - **–ë–ï–ó** `/api` –≤ –∫–æ–Ω—Ü–µ
   - –ü—Ä–∏–º–µ—Ä: `https://backend-production-xxxx.up.railway.app`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Backend —Å–µ—Ä–≤–∏—Å–µ:**
   ```
   FRONTEND_URL=https://your-frontend-url.railway.app
   DATABASE_URL=postgresql://...
   JWT_SECRET=...
   ```
   - `FRONTEND_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ø–æ–ª–Ω—ã–º URL** frontend —Å–µ—Ä–≤–∏—Å–∞
   - –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è CORS

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–ø—É—â–µ–Ω—ã:**
   - –ó–∞–π–¥–∏—Ç–µ –≤ Railway Dashboard
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Backend —Å–µ—Ä–≤–∏—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Running"
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Frontend —Å–µ—Ä–≤–∏—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "Running"

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –í Backend —Å–µ—Ä–≤–∏—Å–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
   - –í Frontend —Å–µ—Ä–≤–∏—Å–µ: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ nginx

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://your-backend-url.railway.app/health`
   - –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è `{"status":"ok"}`

6. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:**
   - –í Railway Dashboard –Ω–∞–∂–º–∏—Ç–µ "Redeploy" –¥–ª—è –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –≠—Ç–æ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –û—à–∏–±–∫–∞ CORS

### –ü—Ä–∏—á–∏–Ω–∞
Backend –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å frontend –¥–æ–º–µ–Ω–∞.

### –†–µ—à–µ–Ω–∏–µ
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Backend —Å–µ—Ä–≤–∏—Å–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
```
FRONTEND_URL=https://your-frontend-url.railway.app
```
–ò –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–∏—Å.

## Frontend –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

### –ü—Ä–∏—á–∏–Ω–∞
–ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–∫–æ–π –∏–ª–∏ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

### –†–µ—à–µ–Ω–∏–µ
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –≤ Railway
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `PORT=80` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

### –ü—Ä–∏—á–∏–Ω–∞
–ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –†–µ—à–µ–Ω–∏–µ
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `DATABASE_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

